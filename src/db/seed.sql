-- Zhuzh Seed Data (FIXED UUIDs)
-- Test data for development and demo purposes
-- Created: January 14, 2026

-- =============================================================================
-- ORGANIZATION: Use All Five
-- =============================================================================

INSERT INTO organizations (id, name, slack_workspace_id, created_at, updated_at)
VALUES (
    'a1b2c3d4-e5f6-7890-abcd-ef1234567890',
    'Use All Five',
    'T0123456789',
    NOW(),
    NOW()
);

-- =============================================================================
-- USERS
-- =============================================================================

INSERT INTO users (id, org_id, email, name, role, slack_user_id, hourly_rate, is_active)
VALUES
    ('11111111-1111-1111-1111-111111111111', 'a1b2c3d4-e5f6-7890-abcd-ef1234567890', 'ryan@useallfive.com', 'Ryan', 'admin', 'U0RYAN00001', 175.00, TRUE),
    ('22222222-2222-2222-2222-222222222222', 'a1b2c3d4-e5f6-7890-abcd-ef1234567890', 'michelle@useallfive.com', 'Michelle', 'pm', 'U0MICH00002', 165.00, TRUE),
    ('33333333-3333-3333-3333-333333333333', 'a1b2c3d4-e5f6-7890-abcd-ef1234567890', 'maleno@useallfive.com', 'Maleno', 'pm', 'U0MALE00003', 155.00, TRUE),
    ('44444444-4444-4444-4444-444444444444', 'a1b2c3d4-e5f6-7890-abcd-ef1234567890', 'kara@useallfive.com', 'Kara', 'employee', 'U0KARA00004', 145.00, TRUE),
    ('55555555-5555-5555-5555-555555555555', 'a1b2c3d4-e5f6-7890-abcd-ef1234567890', 'sam@useallfive.com', 'Sam', 'employee', 'U0SAM000005', 135.00, TRUE),
    ('66666666-6666-6666-6666-666666666666', 'a1b2c3d4-e5f6-7890-abcd-ef1234567890', 'jordan@useallfive.com', 'Jordan', 'employee', 'U0JORD00006', 140.00, TRUE),
    ('77777777-7777-7777-7777-777777777777', 'a1b2c3d4-e5f6-7890-abcd-ef1234567890', 'alex@useallfive.com', 'Alex', 'employee', 'U0ALEX00007', 140.00, TRUE);

-- =============================================================================
-- CLIENTS
-- =============================================================================

INSERT INTO clients (id, org_id, name, is_active)
VALUES
    ('c1111111-1111-1111-1111-111111111111', 'a1b2c3d4-e5f6-7890-abcd-ef1234567890', 'Google', TRUE),
    ('c2222222-2222-2222-2222-222222222222', 'a1b2c3d4-e5f6-7890-abcd-ef1234567890', 'Patina Hotels', TRUE),
    ('c3333333-3333-3333-3333-333333333333', 'a1b2c3d4-e5f6-7890-abcd-ef1234567890', 'Internal', TRUE);

-- =============================================================================
-- PROJECTS
-- =============================================================================

INSERT INTO projects (id, org_id, client_id, name, description, color, budget_hours, hourly_rate, is_billable, priority, status)
VALUES
    ('a0000001-0001-0001-0001-000000000001', 'a1b2c3d4-e5f6-7890-abcd-ef1234567890', 'c1111111-1111-1111-1111-111111111111', 'Google Cloud UX', 'Redesign of Google Cloud console dashboard.', '#4285F4', 400.00, 175.00, TRUE, 1, 'active'),
    ('a0000002-0002-0002-0002-000000000002', 'a1b2c3d4-e5f6-7890-abcd-ef1234567890', 'c2222222-2222-2222-2222-222222222222', 'Patina Hotels Website', 'New luxury hotel brand website with booking integration.', '#8B4513', 250.00, 165.00, TRUE, 2, 'active'),
    ('a0000003-0003-0003-0003-000000000003', 'a1b2c3d4-e5f6-7890-abcd-ef1234567890', 'c1111111-1111-1111-1111-111111111111', 'Agent Challenge', 'AI-powered agent training competition platform.', '#34A853', 150.00, 175.00, TRUE, 3, 'planning'),
    ('a0000004-0004-0004-0004-000000000004', 'a1b2c3d4-e5f6-7890-abcd-ef1234567890', 'c3333333-3333-3333-3333-333333333333', 'Internal/Admin', 'Internal operations and team meetings.', '#9E9E9E', NULL, 0.00, FALSE, 99, 'active');

-- =============================================================================
-- PROJECT PHASES
-- =============================================================================

-- Google Cloud UX Phases
INSERT INTO project_phases (id, project_id, name, budget_hours, sort_order, status)
VALUES
    ('b0000001-0001-0001-0001-000000000001', 'a0000001-0001-0001-0001-000000000001', 'Discovery', 40.00, 1, 'complete'),
    ('b0000001-0001-0001-0001-000000000002', 'a0000001-0001-0001-0001-000000000001', 'Design', 120.00, 2, 'active'),
    ('b0000001-0001-0001-0001-000000000003', 'a0000001-0001-0001-0001-000000000001', 'Development', 180.00, 3, 'pending'),
    ('b0000001-0001-0001-0001-000000000004', 'a0000001-0001-0001-0001-000000000001', 'QA', 40.00, 4, 'pending'),
    ('b0000001-0001-0001-0001-000000000005', 'a0000001-0001-0001-0001-000000000001', 'Launch', 20.00, 5, 'pending');

-- Patina Hotels Phases
INSERT INTO project_phases (id, project_id, name, budget_hours, sort_order, status)
VALUES
    ('b0000002-0002-0002-0002-000000000001', 'a0000002-0002-0002-0002-000000000002', 'Strategy', 30.00, 1, 'complete'),
    ('b0000002-0002-0002-0002-000000000002', 'a0000002-0002-0002-0002-000000000002', 'Design', 80.00, 2, 'active'),
    ('b0000002-0002-0002-0002-000000000003', 'a0000002-0002-0002-0002-000000000002', 'Development', 100.00, 3, 'pending'),
    ('b0000002-0002-0002-0002-000000000004', 'a0000002-0002-0002-0002-000000000002', 'QA', 25.00, 4, 'pending'),
    ('b0000002-0002-0002-0002-000000000005', 'a0000002-0002-0002-0002-000000000002', 'Launch', 15.00, 5, 'pending');

-- Agent Challenge Phases
INSERT INTO project_phases (id, project_id, name, budget_hours, sort_order, status)
VALUES
    ('b0000003-0003-0003-0003-000000000001', 'a0000003-0003-0003-0003-000000000003', 'Discovery', 20.00, 1, 'pending'),
    ('b0000003-0003-0003-0003-000000000002', 'a0000003-0003-0003-0003-000000000003', 'Design', 50.00, 2, 'pending'),
    ('b0000003-0003-0003-0003-000000000003', 'a0000003-0003-0003-0003-000000000003', 'Development', 60.00, 3, 'pending'),
    ('b0000003-0003-0003-0003-000000000004', 'a0000003-0003-0003-0003-000000000003', 'QA', 15.00, 4, 'pending'),
    ('b0000003-0003-0003-0003-000000000005', 'a0000003-0003-0003-0003-000000000003', 'Launch', 5.00, 5, 'pending');

-- =============================================================================
-- ALLOCATIONS FOR CURRENT WEEK (Jan 13, 2026)
-- =============================================================================

-- Kara's allocations
INSERT INTO allocations (id, project_id, user_id, phase_id, week_start, planned_hours, is_billable, notes, created_by)
VALUES
    ('d0000001-0001-0001-0001-000000000001', 'a0000001-0001-0001-0001-000000000001', '44444444-4444-4444-4444-444444444444', 'b0000001-0001-0001-0001-000000000002', '2026-01-13', 24.00, TRUE, 'Design system components', '33333333-3333-3333-3333-333333333333'),
    ('d0000001-0001-0001-0001-000000000002', 'a0000002-0002-0002-0002-000000000002', '44444444-4444-4444-4444-444444444444', 'b0000002-0002-0002-0002-000000000002', '2026-01-13', 12.00, TRUE, 'Homepage mockups', '33333333-3333-3333-3333-333333333333'),
    ('d0000001-0001-0001-0001-000000000003', 'a0000004-0004-0004-0004-000000000004', '44444444-4444-4444-4444-444444444444', NULL, '2026-01-13', 4.00, FALSE, 'Team meetings', '33333333-3333-3333-3333-333333333333');

-- Sam's allocations
INSERT INTO allocations (id, project_id, user_id, phase_id, week_start, planned_hours, is_billable, notes, created_by)
VALUES
    ('d0000002-0002-0002-0002-000000000001', 'a0000001-0001-0001-0001-000000000001', '55555555-5555-5555-5555-555555555555', 'b0000001-0001-0001-0001-000000000002', '2026-01-13', 32.00, TRUE, 'Dashboard wireframes', '33333333-3333-3333-3333-333333333333'),
    ('d0000002-0002-0002-0002-000000000002', 'a0000004-0004-0004-0004-000000000004', '55555555-5555-5555-5555-555555555555', NULL, '2026-01-13', 8.00, FALSE, 'Design reviews', '33333333-3333-3333-3333-333333333333');

-- Jordan's allocations
INSERT INTO allocations (id, project_id, user_id, phase_id, week_start, planned_hours, is_billable, notes, created_by)
VALUES
    ('d0000003-0003-0003-0003-000000000001', 'a0000002-0002-0002-0002-000000000002', '66666666-6666-6666-6666-666666666666', 'b0000002-0002-0002-0002-000000000003', '2026-01-13', 32.00, TRUE, 'Booking API integration', '22222222-2222-2222-2222-222222222222'),
    ('d0000003-0003-0003-0003-000000000002', 'a0000004-0004-0004-0004-000000000004', '66666666-6666-6666-6666-666666666666', NULL, '2026-01-13', 8.00, FALSE, 'Code reviews, standups', '22222222-2222-2222-2222-222222222222');

-- Alex's allocations
INSERT INTO allocations (id, project_id, user_id, phase_id, week_start, planned_hours, is_billable, notes, created_by)
VALUES
    ('d0000004-0004-0004-0004-000000000001', 'a0000001-0001-0001-0001-000000000001', '77777777-7777-7777-7777-777777777777', 'b0000001-0001-0001-0001-000000000003', '2026-01-13', 24.00, TRUE, 'Frontend components', '22222222-2222-2222-2222-222222222222'),
    ('d0000004-0004-0004-0004-000000000002', 'a0000002-0002-0002-0002-000000000002', '77777777-7777-7777-7777-777777777777', 'b0000002-0002-0002-0002-000000000003', '2026-01-13', 12.00, TRUE, 'CMS setup', '22222222-2222-2222-2222-222222222222'),
    ('d0000004-0004-0004-0004-000000000003', 'a0000004-0004-0004-0004-000000000004', '77777777-7777-7777-7777-777777777777', NULL, '2026-01-13', 4.00, FALSE, 'Team sync', '22222222-2222-2222-2222-222222222222');

-- =============================================================================
-- PTO ENTRIES
-- =============================================================================

INSERT INTO pto_entries (id, user_id, date, type, hours, notes)
VALUES
    ('e0000001-0001-0001-0001-000000000001', '55555555-5555-5555-5555-555555555555', '2026-01-17', 'half-day', 4.00, 'Dentist appointment'),
    ('e0000002-0002-0002-0002-000000000002', '66666666-6666-6666-6666-666666666666', '2026-01-20', 'pto', 8.00, 'Long weekend'),
    ('e0000003-0003-0003-0003-000000000001', '44444444-4444-4444-4444-444444444444', '2026-01-19', 'holiday', 8.00, 'MLK Day'),
    ('e0000003-0003-0003-0003-000000000002', '55555555-5555-5555-5555-555555555555', '2026-01-19', 'holiday', 8.00, 'MLK Day'),
    ('e0000003-0003-0003-0003-000000000003', '66666666-6666-6666-6666-666666666666', '2026-01-19', 'holiday', 8.00, 'MLK Day'),
    ('e0000003-0003-0003-0003-000000000004', '77777777-7777-7777-7777-777777777777', '2026-01-19', 'holiday', 8.00, 'MLK Day');

-- =============================================================================
-- ALLOCATIONS FOR LAST WEEK (Jan 6, 2026) - for testing
-- =============================================================================

INSERT INTO allocations (id, project_id, user_id, phase_id, week_start, planned_hours, is_billable, notes, created_by)
VALUES
    ('d1000001-0001-0001-0001-000000000001', 'a0000001-0001-0001-0001-000000000001', '44444444-4444-4444-4444-444444444444', 'b0000001-0001-0001-0001-000000000002', '2026-01-06', 20.00, TRUE, 'Design exploration', '33333333-3333-3333-3333-333333333333'),
    ('d1000001-0001-0001-0001-000000000002', 'a0000002-0002-0002-0002-000000000002', '44444444-4444-4444-4444-444444444444', 'b0000002-0002-0002-0002-000000000002', '2026-01-06', 16.00, TRUE, 'Brand exploration', '33333333-3333-3333-3333-333333333333'),
    ('d1000001-0001-0001-0001-000000000003', 'a0000004-0004-0004-0004-000000000004', '44444444-4444-4444-4444-444444444444', NULL, '2026-01-06', 4.00, FALSE, 'Team meetings', '33333333-3333-3333-3333-333333333333');

-- =============================================================================
-- SUBMITTED TIME CONFIRMATION (for testing approval flow)
-- =============================================================================

INSERT INTO time_confirmations (id, user_id, week_start, status, submitted_at, exact_match_flag, notes)
VALUES (
    'f0000001-0001-0001-0001-000000000001',
    '44444444-4444-4444-4444-444444444444',
    '2026-01-06',
    'submitted',
    '2026-01-10 15:30:00',
    FALSE,
    'Client calls on Google project ran longer than expected.'
);

-- Time entries with variance
INSERT INTO time_entries (id, confirmation_id, project_id, phase_id, allocation_id, planned_hours, actual_hours, is_unplanned, notes, tags)
VALUES
    ('f1000001-0001-0001-0001-000000000001', 'f0000001-0001-0001-0001-000000000001', 'a0000001-0001-0001-0001-000000000001', 'b0000001-0001-0001-0001-000000000002', 'd1000001-0001-0001-0001-000000000001', 20.00, 24.00, FALSE, 'Extra time on client calls', ARRAY['client-call']),
    ('f1000001-0001-0001-0001-000000000002', 'f0000001-0001-0001-0001-000000000001', 'a0000002-0002-0002-0002-000000000002', 'b0000002-0002-0002-0002-000000000002', 'd1000001-0001-0001-0001-000000000002', 16.00, 14.00, FALSE, NULL, ARRAY[]::TEXT[]),
    ('f1000001-0001-0001-0001-000000000003', 'f0000001-0001-0001-0001-000000000001', 'a0000004-0004-0004-0004-000000000004', NULL, 'd1000001-0001-0001-0001-000000000003', 4.00, 4.00, FALSE, NULL, ARRAY[]::TEXT[]),
    ('f1000001-0001-0001-0001-000000000004', 'f0000001-0001-0001-0001-000000000001', 'a0000001-0001-0001-0001-000000000001', 'b0000001-0001-0001-0001-000000000003', NULL, 0.00, 2.00, TRUE, 'Urgent production bug fix', ARRAY['urgent']);

-- =============================================================================
-- HISTORICAL APPROVED CONFIRMATIONS
-- =============================================================================

-- Sam's approved confirmation (Dec 30, 2025)
INSERT INTO time_confirmations (id, user_id, week_start, status, submitted_at, approved_by, approved_at, exact_match_flag)
VALUES (
    'f0000002-0002-0002-0002-000000000001',
    '55555555-5555-5555-5555-555555555555',
    '2025-12-30',
    'approved',
    '2026-01-03 14:00:00',
    '22222222-2222-2222-2222-222222222222',
    '2026-01-03 16:00:00',
    TRUE
);

INSERT INTO time_entries (id, confirmation_id, project_id, phase_id, planned_hours, actual_hours, is_unplanned)
VALUES
    ('f2000001-0001-0001-0001-000000000001', 'f0000002-0002-0002-0002-000000000001', 'a0000001-0001-0001-0001-000000000001', 'b0000001-0001-0001-0001-000000000002', 32.00, 32.00, FALSE),
    ('f2000001-0001-0001-0001-000000000002', 'f0000002-0002-0002-0002-000000000001', 'a0000004-0004-0004-0004-000000000004', NULL, 8.00, 8.00, FALSE);

-- Jordan's approved confirmation (Dec 30, 2025)
INSERT INTO time_confirmations (id, user_id, week_start, status, submitted_at, approved_by, approved_at, exact_match_flag, notes)
VALUES (
    'f0000003-0003-0003-0003-000000000001',
    '66666666-6666-6666-6666-666666666666',
    '2025-12-30',
    'approved',
    '2026-01-03 13:45:00',
    '22222222-2222-2222-2222-222222222222',
    '2026-01-03 16:15:00',
    FALSE,
    'Started Patina development work.'
);

INSERT INTO time_entries (id, confirmation_id, project_id, phase_id, planned_hours, actual_hours, is_unplanned)
VALUES
    ('f3000001-0001-0001-0001-000000000001', 'f0000003-0003-0003-0003-000000000001', 'a0000002-0002-0002-0002-000000000002', 'b0000002-0002-0002-0002-000000000003', 30.00, 28.00, FALSE),
    ('f3000001-0001-0001-0001-000000000002', 'f0000003-0003-0003-0003-000000000001', 'a0000004-0004-0004-0004-000000000004', NULL, 10.00, 12.00, FALSE);

-- =============================================================================
-- AUDIT LOG ENTRIES
-- =============================================================================

INSERT INTO audit_log (id, org_id, entity_type, entity_id, action, changes, user_id, created_at)
VALUES
    ('aa000001-0001-0001-0001-000000000001', 'a1b2c3d4-e5f6-7890-abcd-ef1234567890', 'projects', 'a0000001-0001-0001-0001-000000000001', 'update', '{"old": {"budget_hours": 350}, "new": {"budget_hours": 400}}', '22222222-2222-2222-2222-222222222222', '2026-01-08 10:00:00'),
    ('aa000002-0002-0002-0002-000000000001', 'a1b2c3d4-e5f6-7890-abcd-ef1234567890', 'allocations', 'd0000001-0001-0001-0001-000000000001', 'update', '{"old": {"planned_hours": 20}, "new": {"planned_hours": 24}}', '33333333-3333-3333-3333-333333333333', '2026-01-12 14:30:00'),
    ('aa000003-0003-0003-0003-000000000001', 'a1b2c3d4-e5f6-7890-abcd-ef1234567890', 'time_confirmations', 'f0000002-0002-0002-0002-000000000001', 'update', '{"old": {"status": "submitted"}, "new": {"status": "approved"}}', '22222222-2222-2222-2222-222222222222', '2026-01-03 16:00:00');

-- =============================================================================
-- SEED DATA SUMMARY
-- =============================================================================
-- Organization: Use All Five (1)
-- Users: 7 (Ryan, Michelle, Maleno, Kara, Sam, Jordan, Alex)
-- Clients: 3 (Google, Patina Hotels, Internal)
-- Projects: 4 (Google Cloud UX, Patina Hotels Website, Agent Challenge, Internal)
-- Current Week Allocations: 12 entries across 4 employees
-- PTO Entries: 6 (including MLK Day holiday)
-- Submitted Confirmation: 1 (Kara's week of Jan 6 with variance)
-- Approved Confirmations: 2 (Sam and Jordan's week of Dec 30)
-- Audit Log: 3 sample entries
-- =============================================================================
